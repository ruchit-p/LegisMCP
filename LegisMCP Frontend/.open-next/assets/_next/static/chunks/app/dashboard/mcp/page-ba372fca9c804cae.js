(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{8054:function(e,t,s){Promise.resolve().then(s.bind(s,6094))},6094:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var r=s(7437),n=s(2265),a=s(2381),i=s(279),o=s(5060),l=s(9820),c=s(5937),d=s(9174),u=s(5302),m=s(5863),h=s(5131),x=s(2252),p=s(6362),g=s(1085),f=s(4073),j=s(257);class v{static getInstance(){return v.instance||(v.instance=new v),v.instance}setAccessToken(e){this.accessToken=e}async logToolCall(e){if(!this.accessToken){console.warn("MCPUsageLogger: No access token set, skipping log");return}try{let t=await fetch("".concat(this.workerUrl,"/api/mcp/logs"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.accessToken)},body:JSON.stringify(e)});t.ok||console.error("Failed to log MCP usage:",t.status,await t.text())}catch(e){console.error("Error logging MCP usage:",e)}}async logSuccess(e,t,s,r,n){await this.logToolCall({tool_name:e,request_data:t,response_data:s,status:"success",response_time_ms:r,tokens_used:n})}async logError(e,t,s,r){await this.logToolCall({tool_name:e,request_data:t,status:"error",error_message:s,response_time_ms:r})}async logTimeout(e,t,s){await this.logToolCall({tool_name:e,request_data:t,status:"timeout",response_time_ms:s})}constructor(){this.accessToken=null,this.workerUrl=j.env.NEXT_PUBLIC_CLOUDFLARE_WORKER_URL||j.env.CLOUDFLARE_WORKER_URL||"https://api.example.com"}}v.instance=null;let y=()=>v.getInstance();class N extends g.EventEmitter{async connect(){try{this.emit("connecting"),await this.initialize(),await this.establishSseConnection(),this.state.connected=!0,this.state.authenticated=!0,this.retryCount=0,this.emit("connected",this.state)}catch(e){throw this.emit("error",e),e}}async disconnect(){try{for(let[,e]of(this.emit("disconnecting"),this.eventSource&&(this.eventSource.close(),this.eventSource=void 0),this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=void 0),this.pendingRequests))clearTimeout(e.timeout),e.reject(Error("Connection closed"));if(this.pendingRequests.clear(),this.state.sessionId)try{await fetch("".concat(this.options.serverUrl,"/session/").concat(this.state.sessionId),{method:"DELETE",headers:{Authorization:"Bearer ".concat(this.options.apiKey),"Content-Type":"application/json"}})}catch(e){}this.state.connected=!1,this.state.authenticated=!1,this.state.sessionId=void 0,this.emit("disconnected")}catch(e){throw this.emit("error",e),e}}async initialize(){let e={jsonrpc:"2.0",id:this.getNextRequestId(),method:"initialize",params:{protocolVersion:"2024-11-05",capabilities:{tools:!0,resources:!0,prompts:!0},clientInfo:{name:"MCP Congress Frontend",version:"1.0.0"}}},t=await this.sendHttpRequest(e);if(t.error)throw Error("Initialize failed: ".concat(t.error.message));let s=t.result;this.state.sessionId=s.sessionId,this.state.subscriptionTier=s.subscriptionTier,this.state.usageLimit=s.usageLimit,this.state.monthlyUsage=s.monthlyUsage,this.emit("initialized",s)}async establishSseConnection(){return new Promise((e,t)=>{let s={Authorization:"Bearer ".concat(this.options.apiKey),Accept:"text/event-stream","Cache-Control":"no-cache"};this.state.sessionId&&(s["Mcp-Session-Id"]=this.state.sessionId),this.eventSource=new f.EventSourcePolyfill(this.options.serverUrl,{headers:s}),this.eventSource.onopen=()=>{e()},this.eventSource.onerror=e=>{this.state.connected?this.handleConnectionError(e):t(e)},this.eventSource.onmessage=e=>{this.handleSseMessage(e)}})}handleSseMessage(e){try{let t=JSON.parse(e.data);switch(t.type){case"connection":this.state.sessionId=t.sessionId,this.emit("session",t);break;case"ping":this.emit("ping",t);break;case"response":this.handleResponse(t);break;case"notification":this.handleNotification(t);break;default:this.emit("message",t)}}catch(e){this.emit("error",Error("Failed to parse SSE message: ".concat(e)))}}handleConnectionError(e){if(this.state.connected=!1,this.emit("error",e),this.retryCount<this.options.retryAttempts){this.retryCount++;let e=this.options.retryDelay*Math.pow(2,this.retryCount-1);this.retryTimer=setTimeout(()=>{this.emit("reconnecting",this.retryCount),this.connect().catch(e=>{this.emit("error",e)})},e)}else this.emit("connectionFailed")}async sendHttpRequest(e){let t=await fetch(this.options.serverUrl,{method:"POST",headers:{Authorization:"Bearer ".concat(this.options.apiKey),"Content-Type":"application/json",Accept:"application/json",...this.state.sessionId?{"Mcp-Session-Id":this.state.sessionId}:{}},body:JSON.stringify(e)});if(!t.ok)throw Error("HTTP ".concat(t.status,": ").concat(t.statusText));let s=t.headers.get("Mcp-Session-Id");return s&&(this.state.sessionId=s),await t.json()}async sendRequest(e){if(!this.state.connected)throw Error("Not connected to MCP server");return new Promise((t,s)=>{let r=e.id,n=setTimeout(()=>{this.pendingRequests.delete(r),s(Error("Request timeout"))},3e4);this.pendingRequests.set(r,{resolve:t,reject:s,timeout:n}),this.sendHttpRequest(e).then(e=>{if(this.pendingRequests.has(r)){let t=this.pendingRequests.get(r);clearTimeout(t.timeout),this.pendingRequests.delete(r),e.error?t.reject(Error(e.error.message)):t.resolve(e.result)}}).catch(e=>{if(this.pendingRequests.has(r)){let t=this.pendingRequests.get(r);clearTimeout(t.timeout),this.pendingRequests.delete(r),t.reject(e)}})})}handleResponse(e){let t=e.id;if(this.pendingRequests.has(t)){let s=this.pendingRequests.get(t);clearTimeout(s.timeout),this.pendingRequests.delete(t),e.error?s.reject(Error(e.error.message)):s.resolve(e.result)}}handleNotification(e){this.emit("notification",e)}getNextRequestId(){return++this.requestCounter}async listTools(){var e;return(null===(e=(await this.sendRequest({jsonrpc:"2.0",id:this.getNextRequestId(),method:"tools/list"})).result)||void 0===e?void 0:e.tools)||[]}async callTool(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Date.now();try{let r=(await this.sendRequest({jsonrpc:"2.0",id:this.getNextRequestId(),method:"tools/call",params:{name:e,arguments:t}})).result,n=Date.now()-s;return await this.usageLogger.logSuccess(e,t,r,n),r}catch(n){let r=Date.now()-s;throw await this.usageLogger.logError(e,t,n instanceof Error?n.message:"Unknown error",r),n}}async listResources(){var e;return(null===(e=(await this.sendRequest({jsonrpc:"2.0",id:this.getNextRequestId(),method:"resources/list"})).result)||void 0===e?void 0:e.resources)||[]}async readResource(e){return(await this.sendRequest({jsonrpc:"2.0",id:this.getNextRequestId(),method:"resources/read",params:{uri:e}})).result}async listPrompts(){var e;return(null===(e=(await this.sendRequest({jsonrpc:"2.0",id:this.getNextRequestId(),method:"prompts/list"})).result)||void 0===e?void 0:e.prompts)||[]}async getPrompt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await this.sendRequest({jsonrpc:"2.0",id:this.getNextRequestId(),method:"prompts/get",params:{name:e,arguments:t}})).result}getState(){return{...this.state}}isConnected(){return this.state.connected}isAuthenticated(){return this.state.authenticated}getSessionId(){return this.state.sessionId}getUsageInfo(){if(this.state.monthlyUsage&&this.state.usageLimit&&this.state.subscriptionTier)return{used:this.state.monthlyUsage,limit:this.state.usageLimit,tier:this.state.subscriptionTier}}setAccessToken(e){this.options.accessToken=e,this.usageLogger.setAccessToken(e)}constructor(e){super(),this.retryCount=0,this.requestCounter=0,this.pendingRequests=new Map,this.usageLogger=y(),this.options={sessionTimeout:18e5,retryAttempts:3,retryDelay:1e3,...e},this.state={connected:!1,authenticated:!1},e.accessToken&&this.usageLogger.setAccessToken(e.accessToken)}}var w=s(7505);function b(e){let{onConnectionChange:t,className:s=""}=e,{toast:g}=(0,w.pm)(),[f,j]=(0,n.useState)(""),[v,y]=(0,n.useState)(""),[b,S]=(0,n.useState)({status:"disconnected"}),[C,T]=(0,n.useState)(null),[R,k]=(0,n.useState)(!1),[I,_]=(0,n.useState)({});(0,n.useEffect)(()=>{let e=localStorage.getItem("mcp-connection-string"),t=localStorage.getItem("mcp-api-key");e&&j(e),t&&y(t)},[]),(0,n.useEffect)(()=>()=>{C&&C.disconnect().catch(console.error)},[C]);let A=()=>{let e={};return f.trim()?!function(e){try{let t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}}(f)&&(e.connectionString="Invalid connection string format"):e.connectionString="Connection string is required",v.trim()?v.startsWith("cmcp_")||(e.apiKey="Invalid API key format (should start with cmcp_)"):e.apiKey="API key is required",_(e),0===Object.keys(e).length},E=async()=>{if(A()){k(!0),S({status:"connecting",message:"Connecting to MCP server..."});try{let{serverUrl:e,path:s}=function(e){let t=new URL(e);return{serverUrl:"".concat(t.protocol,"//").concat(t.host),path:t.pathname||"/mcp"}}(f),r={serverUrl:"".concat(e).concat(s),apiKey:v.trim(),retryAttempts:3,retryDelay:1e3},n=new N(r);n.on("connecting",()=>{S({status:"connecting",message:"Establishing connection..."})}),n.on("connected",e=>{S({status:"connected",message:"Successfully connected to MCP server",sessionId:e.sessionId,subscriptionTier:e.subscriptionTier,usageInfo:n.getUsageInfo()}),g({title:"Connected",description:"Successfully connected to MCP server",variant:"success"}),localStorage.setItem("mcp-connection-string",f),localStorage.setItem("mcp-api-key",v),t(n,e)}),n.on("disconnected",()=>{S({status:"disconnected",message:"Disconnected from MCP server"}),T(null),t(null,null)}),n.on("error",e=>{console.error("MCP Client Error:",e),S({status:"error",message:e.message||"Connection failed"}),g({title:"Connection Error",description:e.message||"Failed to connect to MCP server",variant:"destructive"})}),n.on("reconnecting",e=>{S({status:"connecting",message:"Reconnecting... (attempt ".concat(e,")")})}),await n.connect(),T(n)}catch(e){console.error("Connection failed:",e),S({status:"error",message:e instanceof Error?e.message:"Connection failed"}),g({title:"Connection Failed",description:e instanceof Error?e.message:"Unknown error occurred",variant:"destructive"})}finally{k(!1)}}},P=async()=>{if(C){k(!0);try{await C.disconnect(),T(null),S({status:"disconnected",message:"Disconnected from MCP server"}),t(null,null),g({title:"Disconnected",description:"Successfully disconnected from MCP server",variant:"default"})}catch(e){console.error("Disconnect failed:",e),g({title:"Disconnect Failed",description:"Failed to disconnect cleanly",variant:"destructive"})}finally{k(!1)}}};return(0,r.jsxs)(l.Zb,{className:s,children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)(l.ll,{className:"flex items-center gap-2",children:["MCP Server Connection",(()=>{switch(b.status){case"connected":return(0,r.jsx)(u.Z,{className:"h-4 w-4 text-green-500"});case"connecting":return(0,r.jsx)(m.Z,{className:"h-4 w-4 animate-spin text-blue-500"});case"error":return(0,r.jsx)(h.Z,{className:"h-4 w-4 text-red-500"});default:return(0,r.jsx)(x.Z,{className:"h-4 w-4 text-gray-500"})}})()]}),(0,r.jsx)(l.SZ,{children:"Connect to your Azure-hosted MCP server using your connection string and API key"})]}),(0,r.jsxs)(l.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(d.C,{variant:(()=>{switch(b.status){case"connected":return"default";case"connecting":return"secondary";case"error":return"destructive";default:return"outline"}})(),children:b.status.charAt(0).toUpperCase()+b.status.slice(1)}),b.subscriptionTier&&(0,r.jsx)(d.C,{variant:"outline",children:b.subscriptionTier.charAt(0).toUpperCase()+b.subscriptionTier.slice(1)})]}),b.message&&(0,r.jsxs)(c.bZ,{children:[(0,r.jsx)(x.Z,{className:"h-4 w-4"}),(0,r.jsx)(c.X,{children:b.message})]}),b.usageInfo&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o._,{className:"text-sm font-medium",children:"Usage Statistics"}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{children:"Monthly Usage:"}),(0,r.jsxs)("span",{children:[b.usageInfo.used.toLocaleString()," / ",b.usageInfo.limit.toLocaleString()]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(b.usageInfo.used/b.usageInfo.limit*100,100),"%")}})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{htmlFor:"connectionString",children:"Connection String"}),(0,r.jsx)(i.I,{id:"connectionString",type:"url",value:f,onChange:e=>j(e.target.value),placeholder:"https://your-mcp-server.azurewebsites.net/mcp",disabled:"connected"===b.status||R,className:I.connectionString?"border-red-500":""}),I.connectionString&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:I.connectionString}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Enter your Azure MCP server URL (e.g., https://your-server.azurewebsites.net/mcp)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{htmlFor:"apiKey",children:"API Key"}),(0,r.jsx)(i.I,{id:"apiKey",type:"password",value:v,onChange:e=>y(e.target.value),placeholder:"cmcp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",disabled:"connected"===b.status||R,className:I.apiKey?"border-red-500":""}),I.apiKey&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:I.apiKey}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Enter your API key from the dashboard"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:["connected"===b.status?(0,r.jsx)(a.z,{onClick:P,disabled:R,variant:"outline",className:"flex-1",children:R?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Disconnecting..."]}):"Disconnect"}):(0,r.jsx)(a.z,{onClick:E,disabled:R||!f.trim()||!v.trim(),className:"flex-1",children:R?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):"Connect"}),(0,r.jsx)(a.z,{variant:"outline",size:"icon",onClick:()=>window.open("https://docs.example.com/mcp-setup","_blank"),title:"Setup Guide",children:(0,r.jsx)(p.Z,{className:"h-4 w-4"})})]}),b.sessionId&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,r.jsxs)("div",{children:["Session ID: ",b.sessionId]}),(0,r.jsxs)("div",{children:["Last Activity: ",new Date().toLocaleString()]})]})]})]})}var S=s(7168),C=s(3675),T=s(5291),R=s(875),k=s(407),I=s(8867),_=s(8728),A=s(3276),E=s(8736),P=s(3417);function Z(e){let{client:t,className:s=""}=e,{toast:i}=(0,w.pm)(),[x,p]=(0,n.useState)([]),[g,f]=(0,n.useState)([]),[j,v]=(0,n.useState)([]),[y,N]=(0,n.useState)(null),[b,Z]=(0,n.useState)(null),[O,D]=(0,n.useState)(null),[M,U]=(0,n.useState)("{}"),[z,q]=(0,n.useState)("{}"),[L,F]=(0,n.useState)([]),[V,Y]=(0,n.useState)([]),[K,J]=(0,n.useState)([]),[B,G]=(0,n.useState)(!1),[H,X]=(0,n.useState)(new Set),Q=(0,n.useCallback)(async()=>{G(!0);try{let[e,s,r]=await Promise.all([t.listTools(),t.listResources(),t.listPrompts()]);p(e),f(s),v(r),e.length>0&&N(e[0]),s.length>0&&Z(s[0]),r.length>0&&D(r[0])}catch(e){console.error("Failed to load MCP items:",e),i({title:"Loading Error",description:"Failed to load available tools, resources, and prompts",variant:"destructive"})}finally{G(!1)}},[t,i]);(0,n.useEffect)(()=>{t&&t.isConnected()&&Q()},[t,Q]);let W=async()=>{if(!y)return;G(!0);let e=Date.now().toString(),s=Date.now();try{let r=M.trim()?JSON.parse(M):{},n=await t.callTool(y.name,r),a=Date.now()-s,o={id:e,name:y.name,arguments:r,result:n,timestamp:new Date,duration:a};F(e=>[o,...e]),i({title:"Tool Call Successful",description:"".concat(y.name," executed successfully"),variant:"success"})}catch(n){let t=Date.now()-s,r={id:e,name:y.name,arguments:M.trim()?JSON.parse(M):{},error:n instanceof Error?n.message:"Unknown error",timestamp:new Date,duration:t};F(e=>[r,...e]),i({title:"Tool Call Failed",description:n instanceof Error?n.message:"Unknown error",variant:"destructive"})}finally{G(!1)}},$=async()=>{if(!b)return;G(!0);let e=Date.now().toString();try{let s=await t.readResource(b.uri),r={id:e,uri:b.uri,content:s,timestamp:new Date};Y(e=>[r,...e]),i({title:"Resource Read Successful",description:"".concat(b.name," read successfully"),variant:"success"})}catch(s){let t={id:e,uri:b.uri,error:s instanceof Error?s.message:"Unknown error",timestamp:new Date};Y(e=>[t,...e]),i({title:"Resource Read Failed",description:s instanceof Error?s.message:"Unknown error",variant:"destructive"})}finally{G(!1)}},ee=async()=>{if(!O)return;G(!0);let e=Date.now().toString();try{let s=z.trim()?JSON.parse(z):{},r=await t.getPrompt(O.name,s),n={id:e,name:O.name,arguments:s,result:r,timestamp:new Date};J(e=>[n,...e]),i({title:"Prompt Get Successful",description:"".concat(O.name," retrieved successfully"),variant:"success"})}catch(s){let t={id:e,name:O.name,arguments:z.trim()?JSON.parse(z):{},error:s instanceof Error?s.message:"Unknown error",timestamp:new Date};J(e=>[t,...e]),i({title:"Prompt Get Failed",description:s instanceof Error?s.message:"Unknown error",variant:"destructive"})}finally{G(!1)}},et=e=>{navigator.clipboard.writeText(e),i({title:"Copied",description:"Content copied to clipboard",variant:"default"})},es=e=>{X(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},er=e=>JSON.stringify(e,null,2);return B&&0===x.length&&0===g.length&&0===j.length?(0,r.jsx)(l.Zb,{className:s,children:(0,r.jsx)(l.aY,{className:"flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(m.Z,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Loading MCP capabilities..."})]})})}):(0,r.jsxs)(l.Zb,{className:s,children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(_.Z,{className:"h-5 w-5"}),"MCP Tool Explorer"]}),(0,r.jsx)(l.SZ,{children:"Interact with tools, resources, and prompts from your MCP server"})]}),(0,r.jsx)(l.aY,{children:(0,r.jsxs)(S.mQ,{defaultValue:"tools",className:"w-full",children:[(0,r.jsxs)(S.dr,{className:"grid w-full grid-cols-3",children:[(0,r.jsxs)(S.SP,{value:"tools",className:"flex items-center gap-2",children:[(0,r.jsx)(A.Z,{className:"h-4 w-4"}),"Tools (",x.length,")"]}),(0,r.jsxs)(S.SP,{value:"resources",className:"flex items-center gap-2",children:[(0,r.jsx)(E.Z,{className:"h-4 w-4"}),"Resources (",g.length,")"]}),(0,r.jsxs)(S.SP,{value:"prompts",className:"flex items-center gap-2",children:[(0,r.jsx)(P.Z,{className:"h-4 w-4"}),"Prompts (",j.length,")"]})]}),(0,r.jsx)(S.nU,{value:"tools",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{className:"text-lg",children:"Available Tools"})}),(0,r.jsx)(l.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{children:"Select Tool"}),(0,r.jsxs)(T.Ph,{value:(null==y?void 0:y.name)||"",onValueChange:e=>{N(x.find(t=>t.name===e)||null)},children:[(0,r.jsx)(T.i4,{children:(0,r.jsx)(T.ki,{placeholder:"Select a tool"})}),(0,r.jsx)(T.Bw,{children:x.map(e=>(0,r.jsx)(T.Ql,{value:e.name,children:e.name},e.name))})]})]}),y&&(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{children:"Description"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:y.description||"No description available"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{children:"Arguments (JSON)"}),(0,r.jsx)(C.g,{value:M,onChange:e=>U(e.target.value),placeholder:'{"key": "value"}',rows:4})]}),(0,r.jsx)(a.z,{onClick:W,disabled:!y||B,className:"w-full",children:B?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Calling..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{className:"mr-2 h-4 w-4"}),"Call Tool"]})})]})})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{className:"text-lg",children:"Tool Call History"})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===L.length?(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No tool calls yet"}):L.map(e=>{let t=H.has(e.id);return(0,r.jsxs)(l.Zb,{className:"mb-4",children:[(0,r.jsx)(l.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.z,{variant:"ghost",size:"sm",onClick:()=>es(e.id),children:t?(0,r.jsx)(R.Z,{className:"h-4 w-4"}):(0,r.jsx)(k.Z,{className:"h-4 w-4"})}),(0,r.jsx)(l.ll,{className:"text-lg",children:e.name}),e.error?(0,r.jsx)(h.Z,{className:"h-4 w-4 text-red-500"}):(0,r.jsx)(u.Z,{className:"h-4 w-4 text-green-500"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.duration&&(0,r.jsxs)(d.C,{variant:"secondary",children:[e.duration,"ms"]}),(0,r.jsx)(d.C,{variant:"outline",children:e.timestamp.toLocaleTimeString()})]})]})}),t&&(0,r.jsx)(l.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm font-medium",children:"Arguments"}),(0,r.jsx)("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-sm overflow-x-auto",children:er(e.arguments)})]}),e.result&&(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm font-medium",children:"Result"}),(0,r.jsx)("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-sm overflow-x-auto",children:JSON.stringify(e.result,null,2)}),(0,r.jsxs)(a.z,{variant:"outline",size:"sm",onClick:()=>et(JSON.stringify(e.result,null,2)),className:"mt-2",children:[(0,r.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Copy Result"]})]}),e.error&&(0,r.jsxs)(c.bZ,{variant:"destructive",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4"}),(0,r.jsx)(c.X,{children:e.error})]})]})})]},e.id)})})})]})]})}),(0,r.jsx)(S.nU,{value:"resources",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{className:"text-lg",children:"Available Resources"})}),(0,r.jsx)(l.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{children:"Select Resource"}),(0,r.jsxs)(T.Ph,{value:(null==b?void 0:b.uri)||"",onValueChange:e=>{Z(g.find(t=>t.uri===e)||null)},children:[(0,r.jsx)(T.i4,{children:(0,r.jsx)(T.ki,{placeholder:"Select a resource"})}),(0,r.jsx)(T.Bw,{children:g.map(e=>(0,r.jsx)(T.Ql,{value:e.uri,children:e.name},e.uri))})]})]}),b&&(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{children:"Description"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:b.description||"No description available"}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["URI: ",b.uri]})]}),(0,r.jsx)(a.z,{onClick:$,disabled:!b||B,className:"w-full",children:B?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Reading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.Z,{className:"mr-2 h-4 w-4"}),"Read Resource"]})})]})})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{className:"text-lg",children:"Resource Read History"})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===V.length?(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No resource reads yet"}):V.map(e=>{let t=H.has(e.id);return(0,r.jsxs)(l.Zb,{className:"mb-4",children:[(0,r.jsx)(l.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.z,{variant:"ghost",size:"sm",onClick:()=>es(e.id),children:t?(0,r.jsx)(R.Z,{className:"h-4 w-4"}):(0,r.jsx)(k.Z,{className:"h-4 w-4"})}),(0,r.jsx)(l.ll,{className:"text-lg",children:e.uri}),e.error?(0,r.jsx)(h.Z,{className:"h-4 w-4 text-red-500"}):(0,r.jsx)(u.Z,{className:"h-4 w-4 text-green-500"})]}),(0,r.jsx)(d.C,{variant:"outline",children:e.timestamp.toLocaleTimeString()})]})}),t&&(0,r.jsx)(l.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[e.content&&(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{className:"text-sm font-medium",children:"Content"}),(0,r.jsx)("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm overflow-x-auto max-h-96",children:e.content.text?(0,r.jsx)("pre",{children:e.content.text}):(0,r.jsxs)("p",{className:"text-gray-500",children:["Binary content (",e.content.mimeType,")"]})}),(0,r.jsxs)(a.z,{variant:"outline",size:"sm",onClick:()=>{var t;return et((null===(t=e.content)||void 0===t?void 0:t.text)||"")},className:"mt-2",disabled:!e.content.text,children:[(0,r.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Copy Content"]})]}),e.error&&(0,r.jsxs)(c.bZ,{variant:"destructive",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4"}),(0,r.jsx)(c.X,{children:e.error})]})]})})]},e.id)})})})]})]})}),(0,r.jsx)(S.nU,{value:"prompts",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{className:"text-lg",children:"Available Prompts"})}),(0,r.jsx)(l.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{children:"Select Prompt"}),(0,r.jsxs)(T.Ph,{value:(null==O?void 0:O.name)||"",onValueChange:e=>{D(j.find(t=>t.name===e)||null)},children:[(0,r.jsx)(T.i4,{children:(0,r.jsx)(T.ki,{placeholder:"Select a prompt"})}),(0,r.jsx)(T.Bw,{children:j.map(e=>(0,r.jsx)(T.Ql,{value:e.name,children:e.name},e.name))})]})]}),O&&(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{children:"Description"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:O.description||"No description available"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{children:"Arguments (JSON)"}),(0,r.jsx)(C.g,{value:z,onChange:e=>q(e.target.value),placeholder:'{"key": "value"}',rows:4})]}),(0,r.jsx)(a.z,{onClick:ee,disabled:!O||B,className:"w-full",children:B?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Getting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.Z,{className:"mr-2 h-4 w-4"}),"Get Prompt"]})})]})})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsx)(l.ll,{className:"text-lg",children:"Prompt History"})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===K.length?(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No prompt gets yet"}):K.map(e=>(0,r.jsxs)(l.Zb,{className:"mb-4",children:[(0,r.jsx)(l.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(l.ll,{className:"text-lg",children:e.name}),(0,r.jsx)(d.C,{variant:"outline",children:e.timestamp.toLocaleTimeString()})]})}),(0,r.jsxs)(l.aY,{children:[e.result&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o._,{children:"Messages"}),(0,r.jsx)("div",{className:"space-y-2",children:e.result.messages.map((e,t)=>(0,r.jsxs)("div",{className:"p-2 bg-gray-100 rounded",children:[(0,r.jsx)("div",{className:"text-sm font-medium",children:e.role}),(0,r.jsx)("div",{className:"text-sm",children:e.content.text})]},t))})]}),e.error&&(0,r.jsxs)(c.bZ,{variant:"destructive",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4"}),(0,r.jsx)(c.X,{children:e.error})]})]})]},e.id))})})]})]})})]})})]})}var O=s(3245);function D(){let[e,t]=(0,n.useState)(null),[s,a]=(0,n.useState)(null);return(0,r.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"MCP Server Connection"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Connect to your Azure-hosted MCP server and interact with its tools, resources, and prompts."})]}),(0,r.jsxs)(c.bZ,{children:[(0,r.jsx)(O.Z,{className:"h-4 w-4"}),(0,r.jsx)(c.X,{children:"This page allows you to connect to your production MCP server deployed on Azure. Use your API key from the dashboard and your Azure server URL to establish a connection."})]}),(0,r.jsx)(b,{onConnectionChange:(e,s)=>{t(e),a(s)}}),e&&(null==s?void 0:s.connected)?(0,r.jsx)(Z,{client:e}):(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsx)(l.ll,{children:"Tool Explorer"}),(0,r.jsx)(l.SZ,{children:"Connect to an MCP server to explore available tools, resources, and prompts"})]}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Please connect to an MCP server first to access tools and resources."})})})]})]})}},5937:function(e,t,s){"use strict";s.d(t,{X:function(){return c},bZ:function(){return l}});var r=s(7437),n=s(2265),a=s(535),i=s(3448);let o=(0,a.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=n.forwardRef((e,t)=>{let{className:s,variant:n,...a}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(o({variant:n}),s),...a})});l.displayName="Alert",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...n})}).displayName="AlertTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...n})});c.displayName="AlertDescription"},9174:function(e,t,s){"use strict";s.d(t,{C:function(){return o}});var r=s(7437);s(2265);var n=s(535),a=s(3448);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:s}),t),...n})}},2381:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var r=s(7437),n=s(2265),a=s(7053),i=s(535),o=s(3448);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:n,size:i,className:s})),ref:t,...d})});c.displayName="Button"},9820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var r=s(7437),n=s(2265),a=s(3448);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});o.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},279:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(7437),n=s(2265),a=s(3448);let i=n.forwardRef((e,t)=>{let{className:s,type:n,...i}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},5060:function(e,t,s){"use strict";s.d(t,{_:function(){return i}});var r=s(7437),n=s(2265),a=s(3448);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("label",{ref:t,className:(0,a.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...n})});i.displayName="Label"},5291:function(e,t,s){"use strict";s.d(t,{Bw:function(){return p},Ph:function(){return d},Ql:function(){return g},i4:function(){return m},ki:function(){return u}});var r=s(7437),n=s(2265),a=s(7265),i=s(875),o=s(2135),l=s(401),c=s(3448);let d=a.fC;a.ZA;let u=a.B4,m=n.forwardRef((e,t)=>{let{className:s,children:n,...o}=e;return(0,r.jsxs)(a.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...o,children:[n,(0,r.jsx)(a.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=a.xz.displayName;let h=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})});h.displayName=a.u_.displayName;let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=a.$G.displayName;let p=n.forwardRef((e,t)=>{let{className:s,children:n,position:i="popper",...o}=e;return(0,r.jsx)(a.h_,{children:(0,r.jsxs)(a.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...o,children:[(0,r.jsx)(h,{}),(0,r.jsx)(a.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,r.jsx)(x,{})]})})});p.displayName=a.VY.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n})}).displayName=a.__.displayName;let g=n.forwardRef((e,t)=>{let{className:s,children:n,...i}=e;return(0,r.jsxs)(a.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(a.wU,{children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(a.eT,{children:n})]})});g.displayName=a.ck.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...n})}).displayName=a.Z0.displayName},7168:function(e,t,s){"use strict";s.d(t,{SP:function(){return c},dr:function(){return l},mQ:function(){return o},nU:function(){return d}});var r=s(7437),n=s(2265),a=s(271),i=s(3448);let o=a.fC,l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});l.displayName=a.aV.displayName;let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n})});c.displayName=a.xz.displayName;let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n})});d.displayName=a.VY.displayName},3675:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var r=s(7437),n=s(2265),a=s(3448);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});i.displayName="Textarea"},7505:function(e,t,s){"use strict";s.d(t,{pm:function(){return x}}),s(7437);var r,n,a=s(2265);(r=n||(n={})).ADD_TOAST="ADD_TOAST",r.UPDATE_TOAST="UPDATE_TOAST",r.DISMISS_TOAST="DISMISS_TOAST",r.REMOVE_TOAST="REMOVE_TOAST";let i=0,o=new Map,l=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),m({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},c=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],u={toasts:[]};function m(e){u=c(u,e),d.forEach(e=>{e(u)})}function h(e){let{...t}=e,s=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>m({type:"DISMISS_TOAST",toastId:s});return m({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>m({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(u);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:h,dismiss:e=>m({type:"DISMISS_TOAST",toastId:e})}}h.success=e=>h({...e,variant:"success"}),h.error=e=>h({...e,variant:"destructive"}),h.warning=e=>h({...e,variant:"warning"})},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var r=s(1994),n=s(3335);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[624,656,548,993,974,971,117,744],function(){return e(e.s=8054)}),_N_E=e.O()}]);