(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{4014:function(e,s,a){Promise.resolve().then(a.bind(a,4387))},5302:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8867:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},91:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},6362:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},5863:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8906:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9763).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},4387:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return el}});var t=a(7437),r=a(2265),l=a(6824),n=a(6518),i=a(2381),c=a(9820),d=a(7168),o=a(7505),m=a(9763);let x=(0,m.Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),u=(0,m.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var h=a(5302),f=a(8867),j=a(2252),p=a(8906);let g=(0,m.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),y=(0,m.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),N=(0,m.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var v=a(2093);function b(){let[e,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[n,d]=(0,r.useState)(!1),[m,b]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),[S,P]=(0,r.useState)(null),{toast:A}=(0,o.pm)(),Z=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/keys");if(!e.ok)throw Error("Failed to load API keys");let a=await e.json();s(a.keys||[])}catch(e){console.error("Error loading API keys:",e),A({title:"Error",description:"Failed to load API keys. Please try again.",variant:"destructive"})}finally{l(!1)}},[A]);(0,r.useEffect)(()=>{Z()},[Z]);let C=async()=>{if(!m.trim()){A({title:"Error",description:"Please enter a name for your API key.",variant:"destructive"});return}if(m.length>100){A({title:"Error",description:"API key name must be less than 100 characters.",variant:"destructive"});return}d(!0);try{let e=await fetch("/api/keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.trim()})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to create API key")}let a=await e.json();P(a.key),s(e=>[a.key,...e]),b(""),k(!1),A({title:"Success",description:"API key created successfully!",variant:"default"})}catch(e){console.error("Error creating API key:",e),A({title:"Error",description:e instanceof Error?e.message:"Failed to create API key",variant:"destructive"})}finally{d(!1)}},T=async(e,a)=>{if(confirm('Are you sure you want to deactivate the API key "'.concat(a,'"? This action cannot be undone.')))try{let a=await fetch("/api/keys/".concat(e),{method:"DELETE"});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to deactivate API key")}s(s=>s.map(s=>s.id===e?{...s,isActive:!1}:s)),A({title:"Success",description:"API key deactivated successfully.",variant:"default"})}catch(e){console.error("Error deactivating API key:",e),A({title:"Error",description:e instanceof Error?e.message:"Failed to deactivate API key",variant:"destructive"})}},M=async e=>{try{await navigator.clipboard.writeText(e),A({title:"Copied!",description:"API key copied to clipboard.",variant:"default"})}catch(e){console.error("Error copying to clipboard:",e),A({title:"Error",description:"Failed to copy to clipboard.",variant:"destructive"})}};return a?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(x,{className:"h-5 w-5"}),"API Key Management"]}),(0,t.jsx)(c.SZ,{children:"Generate and manage API keys for accessing the LegislativeMCP server API. Keep your keys secure and never share them publicly."})]}),(0,t.jsx)(c.aY,{children:w?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{htmlFor:"keyName",className:"text-sm font-medium",children:"API Key Name"}),(0,t.jsx)("input",{id:"keyName",type:"text",value:m,onChange:e=>b(e.target.value),placeholder:"e.g., My App API Key",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",maxLength:100}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Choose a descriptive name to identify this key later."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.z,{onClick:C,disabled:n,className:"flex items-center gap-2",children:[n?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,t.jsx)(u,{className:"h-4 w-4"}),"Create Key"]}),(0,t.jsx)(i.z,{variant:"outline",onClick:()=>{k(!1),b("")},children:"Cancel"})]})]}):(0,t.jsxs)(i.z,{onClick:()=>k(!0),className:"flex items-center gap-2",children:[(0,t.jsx)(u,{className:"h-4 w-4"}),"Generate New API Key"]})})]}),S&&(0,t.jsxs)(c.Zb,{className:"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(h.Z,{className:"h-5 w-5"}),"API Key Created Successfully"]}),(0,t.jsx)(c.SZ,{className:"text-green-700 dark:text-green-300",children:"Copy your new API key now - it will not be shown again for security reasons."})]}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-white dark:bg-gray-900 rounded-md border",children:[(0,t.jsx)("code",{className:"flex-1 font-mono text-sm break-all",children:S.fullKey}),(0,t.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>M(S.fullKey),children:(0,t.jsx)(f.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-yellow-800 dark:text-yellow-200",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4"}),"Store this key securely. You won't be able to view it again."]}),(0,t.jsx)(i.z,{onClick:()=>{P(null)},variant:"outline",size:"sm",children:"I've saved my key"})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{children:"Your API Keys"}),(0,t.jsx)(c.SZ,{children:0===e.length?"No API keys created yet. Generate your first key to get started.":"You have ".concat(e.filter(e=>e.isActive).length," active API key(s).")})]}),(0,t.jsx)(c.aY,{children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(x,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No API keys found."}),(0,t.jsx)("p",{className:"text-sm",children:"Create your first API key to get started with the API."})]}):(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg ".concat(e.isActive?"border-border bg-card":"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950"),children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h3",{className:"font-medium truncate",children:e.name}),e.isActive?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full",children:[(0,t.jsx)(p.Z,{className:"h-3 w-3"}),"Active"]}):(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded-full",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3"}),"Inactive"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{className:"font-mono",children:[e.keyPrefix,"..."]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(g,{className:"h-3 w-3"}),"Created ",(0,v.WU)(new Date(e.createdAt),"MMM d, yyyy")]}),e.lastUsedAt&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(y,{className:"h-3 w-3"}),"Last used ",(0,v.WU)(new Date(e.lastUsedAt),"MMM d, yyyy")]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:e.isActive&&(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>T(e.id,e.name),className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[(0,t.jsx)(N,{className:"h-4 w-4"}),"Deactivate"]})})]},e.id))})})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{children:"Using Your API Key"}),(0,t.jsx)(c.SZ,{children:"How to authenticate with the LegislativeMCP server using your API key."})]}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Environment Variable Configuration"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Set your API key as an environment variable in your AI agent configuration:"}),(0,t.jsx)("code",{className:"block p-3 bg-muted rounded-md text-sm font-mono",children:"MCP_API_KEY=your_api_key_here"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"MCP Server Configuration"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"The MCP server will automatically use this environment variable to authenticate your requests."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-yellow-800 dark:text-yellow-200",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4"}),"Never share your API keys publicly or commit them to version control."]})]})]})]})}let w=(0,m.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var k=a(4401),S=a(2431),P=a(6221);let A=(0,m.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var Z=a(525),C=a(91);function T(){var e;let[s,a]=(0,r.useState)(null),[l,n]=(0,r.useState)(!0),[d,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)("30"),{toast:f}=(0,o.pm)(),j=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/usage?days=".concat(x));if(!e.ok)throw Error("Failed to load usage data");let s=await e.json();a(s)}catch(e){console.error("Error loading usage data:",e),f({title:"Error",description:"Failed to load usage data. Please try again.",variant:"destructive"})}finally{n(!1),m(!1)}},[x,f]);(0,r.useEffect)(()=>{j()},[j]);let N=async()=>{m(!0),await j()},b=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},T=e=>e.toLocaleString();return l?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(c.Zb,{children:(0,t.jsx)(c.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(P.Z,{className:"h-5 w-5"}),"Usage Analytics"]}),(0,t.jsx)(c.SZ,{children:"Monitor your API usage and track performance metrics."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(A,{className:"h-4 w-4"}),(0,t.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"px-3 py-2 border rounded-md text-sm",children:[(0,t.jsx)("option",{value:"7",children:"Last 7 days"}),(0,t.jsx)("option",{value:"30",children:"Last 30 days"}),(0,t.jsx)("option",{value:"90",children:"Last 90 days"}),(0,t.jsx)("option",{value:"365",children:"Last year"})]})]}),(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:N,disabled:d,className:"flex items-center gap-2",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4 ".concat(d?"animate-spin":"")}),"Refresh"]})]})]})})}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{children:"Current Usage"}),(0,t.jsx)(c.SZ,{children:"Your API usage for the current billing period"})]}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(e=s.usage.percentage)>=90?(0,t.jsx)(w,{className:"h-4 w-4 text-red-600"}):e>=75?(0,t.jsx)(k.Z,{className:"h-4 w-4 text-yellow-600"}):(0,t.jsx)(h.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("span",{className:"font-medium",children:[T(s.usage.current)," / ",T(s.usage.limit)," requests"]})]}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",s.usage.percentage.toFixed(1),"% used)"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[s.usage.planName," Plan"]})]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(s.usage.percentage>=90?"bg-red-500":s.usage.percentage>=75?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(s.usage.percentage,100),"%")}})}),s.usage.percentage>=90&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-950 rounded-lg",children:[(0,t.jsx)(w,{className:"h-4 w-4 text-red-600"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-medium text-red-800 dark:text-red-200",children:"High usage detected"}),(0,t.jsx)("p",{className:"text-red-700 dark:text-red-300",children:"You're approaching your monthly limit. Consider upgrading your plan."})]})]}),s.subscription&&(0,t.jsx)("div",{className:"pt-4 border-t",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Billing Period:"})]}),(0,t.jsxs)("span",{className:"font-medium",children:[(0,v.WU)(new Date(s.subscription.currentPeriodStart),"MMM d")," - ",(0,v.WU)(new Date(s.subscription.currentPeriodEnd),"MMM d, yyyy")]})]})})]})})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Requests"}),(0,t.jsx)(k.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:T(s.stats.totalRequests)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:s.stats.period})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ll,{className:"text-sm font-medium",children:"Unique Tools"}),(0,t.jsx)(Z.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:s.stats.uniqueTools}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Different tools used"})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ll,{className:"text-sm font-medium",children:"Avg Response Time"}),(0,t.jsx)(y,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:s.stats.avgResponseTime>0?"".concat(Math.round(s.stats.avgResponseTime),"ms"):"-"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Average latency"})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ll,{className:"text-sm font-medium",children:"Data Transferred"}),(0,t.jsx)(C.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:b(s.stats.totalDataTransferred)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total payload size"})]})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{children:"Usage Insights"}),(0,t.jsx)(c.SZ,{children:"Performance and usage patterns for your API consumption"})]}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Performance"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Average Response Time:"}),(0,t.jsx)("span",{className:"font-medium",children:s.stats.avgResponseTime>0?"".concat(Math.round(s.stats.avgResponseTime),"ms"):"No data"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Data Efficiency:"}),(0,t.jsx)("span",{className:"font-medium",children:s.stats.totalRequests>0?"".concat(b(s.stats.totalDataTransferred/s.stats.totalRequests)," per request"):"No data"})]})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Usage Patterns"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Active Tools:"}),(0,t.jsxs)("span",{className:"font-medium",children:[s.stats.uniqueTools," different tools"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Usage Rate:"}),(0,t.jsx)("span",{className:"font-medium",children:s.stats.totalRequests>0?"".concat((s.stats.totalRequests/parseInt(x)).toFixed(1)," requests/day"):"No data"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2 text-blue-800 dark:text-blue-200",children:"\uD83D\uDCA1 Recommendations"}),(0,t.jsxs)("ul",{className:"space-y-1 text-sm text-blue-700 dark:text-blue-300",children:[s.usage.percentage>=90&&(0,t.jsx)("li",{children:"• Consider upgrading to a higher tier plan to avoid usage limits"}),s.stats.avgResponseTime>1e3&&(0,t.jsx)("li",{children:"• Response times could be improved - check your network connection"}),1===s.stats.uniqueTools&&(0,t.jsx)("li",{children:"• Explore other available tools to maximize your subscription value"}),0===s.stats.totalRequests&&(0,t.jsx)("li",{children:"• Get started by creating an API key and making your first request"})]})]})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{children:"Plan Management"}),(0,t.jsx)(c.SZ,{children:"Manage your subscription and explore upgrade options"})]}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"font-medium",children:["Current Plan: ",s.usage.planName]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[T(s.usage.limit)," requests per month"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.z,{variant:"outline",asChild:!0,children:(0,t.jsxs)("a",{href:"/billing",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Manage Billing"]})}),s.usage.percentage>=75&&(0,t.jsx)(i.z,{asChild:!0,children:(0,t.jsxs)("a",{href:"#pricing",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]})})]})]})})]})]}):(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{children:"Usage Tracking"}),(0,t.jsx)(c.SZ,{children:"Unable to load usage data"})]}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)(i.z,{onClick:j,className:"flex items-center gap-2",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4"}),"Try Again"]})})]})}var M=a(9174),I=a(8226),E=a(6362),R=a(9376);function O(e){let s,a,{onSubscriptionUpdate:l}=e,[n,d]=(0,r.useState)(null),[o,m]=(0,r.useState)(!0),[x,u]=(0,r.useState)(!1),f=(0,R.useSearchParams)(),p=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/user/subscription");if(e.ok){let s=await e.json();d(s.subscription),l&&await l()}}catch(e){console.error("Error loading subscription:",e)}finally{m(!1)}},[l]);(0,r.useEffect)(()=>{p();let e=f.get("session_id"),s=f.get("success");e&&"true"===s&&setTimeout(()=>{p()},2e3)},[f,p]);let y=async()=>{u(!0);try{let e=await fetch("/api/billing/portal",{method:"POST"});if(e.ok){let{url:s}=await e.json();window.location.href=s}else throw Error("Failed to create billing portal session")}catch(e){console.error("Error creating billing portal session:",e),alert("Failed to open billing portal. Please try again.")}finally{u(!1)}},N=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});if(o)return(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(I.Z,{className:"h-5 w-5"}),"Subscription"]})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-4 w-32 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-4 w-48 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-4 w-40 bg-muted rounded"})]})})]});let v="true"===f.get("success");return n?(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(I.Z,{className:"h-5 w-5"}),"Subscription"]}),(e=>{switch(e){case"active":return(0,t.jsx)(M.C,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Active"});case"trialing":return(0,t.jsx)(M.C,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Trial"});case"past_due":return(0,t.jsx)(M.C,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Past Due"});case"canceled":return(0,t.jsx)(M.C,{className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Canceled"});default:return(0,t.jsx)(M.C,{variant:"secondary",children:e})}})(n.status)]}),(0,t.jsx)(c.SZ,{children:"Manage your subscription and billing information"})]}),(0,t.jsxs)(c.aY,{className:"space-y-6",children:[v&&(0,t.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg dark:bg-green-900/20 dark:border-green-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(h.Z,{className:"h-5 w-5"}),(0,t.jsxs)("span",{className:"font-medium",children:["Welcome to ",n.planName,"!"]})]}),(0,t.jsx)("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:"Your subscription is now active. You have full access to all features."})]}),n.cancelAtPeriodEnd&&(0,t.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg dark:bg-yellow-900/20 dark:border-yellow-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"font-medium",children:"Subscription ending soon"})]}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-yellow-700 dark:text-yellow-300",children:["Your subscription will end on ",N(n.currentPeriodEnd),"."]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-foreground",children:"Plan"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[n.planName," (",n.billingFrequency,")"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-foreground",children:"Amount"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(s=n.amount,a=n.currency,new Intl.NumberFormat("en-US",{style:"currency",currency:a.toUpperCase()}).format(s/100))," per ","yearly"===n.billingFrequency?"year":"month"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-foreground",children:"Current Period"}),(0,t.jsxs)("p",{className:"text-muted-foreground text-sm",children:[N(n.currentPeriodStart)," - ",N(n.currentPeriodEnd)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-foreground",children:"Next Billing"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground text-sm",children:[(0,t.jsx)(g,{className:"h-4 w-4"}),n.cancelAtPeriodEnd?"Subscription ends":"Renews"," on ",N(n.currentPeriodEnd)]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t",children:[(0,t.jsx)(i.z,{onClick:y,disabled:x,className:"w-full sm:w-auto",children:x?"Opening...":(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Z,{className:"h-4 w-4"}),"Manage Subscription"]})}),(0,t.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:"Update payment method, billing address, download invoices, or cancel subscription."})]})]})]}):(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(I.Z,{className:"h-5 w-5"}),"Subscription"]}),(0,t.jsx)(c.SZ,{children:"No active subscription found"})]}),(0,t.jsxs)(c.aY,{children:[v&&(0,t.jsxs)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg dark:bg-green-900/20 dark:border-green-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,t.jsx)(h.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"font-medium",children:"Payment successful!"})]}),(0,t.jsx)("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:"Your subscription is being activated. This may take a few moments."})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"You don't have an active subscription. Choose a plan to get started with full access to our Legislative data API."}),(0,t.jsx)(i.z,{asChild:!0,children:(0,t.jsx)("a",{href:"/#pricing",children:"Choose a Plan"})})]})]})}var D=a(3966),U=a(6840),Y="Progress",[z,_]=(0,D.b)(Y),[q,F]=z(Y),L=r.forwardRef((e,s)=>{var a,r,l,n;let{__scopeProgress:i,value:c=null,max:d,getValueLabel:o=B,...m}=e;(d||0===d)&&!G(d)&&console.error((a="".concat(d),r="Progress","Invalid prop `max` of value `".concat(a,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let x=G(d)?d:100;null===c||Q(c,x)||console.error((l="".concat(c),n="Progress","Invalid prop `value` of value `".concat(l,"` supplied to `").concat(n,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let u=Q(c,x)?c:null,h=W(u)?o(u,x):void 0;return(0,t.jsx)(q,{scope:i,value:u,max:x,children:(0,t.jsx)(U.WV.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":W(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":H(u,x),"data-value":null!=u?u:void 0,"data-max":x,...m,ref:s})})});L.displayName=Y;var V="ProgressIndicator",K=r.forwardRef((e,s)=>{var a;let{__scopeProgress:r,...l}=e,n=F(V,r);return(0,t.jsx)(U.WV.div,{"data-state":H(n.value,n.max),"data-value":null!==(a=n.value)&&void 0!==a?a:void 0,"data-max":n.max,...l,ref:s})});function B(e,s){return"".concat(Math.round(e/s*100),"%")}function H(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function W(e){return"number"==typeof e}function G(e){return W(e)&&!isNaN(e)&&e>0}function Q(e,s){return W(e)&&!isNaN(e)&&e<=s&&e>=0}K.displayName=V;var X=a(3448);let J=r.forwardRef((e,s)=>{let{className:a,value:r,...l}=e;return(0,t.jsx)(L,{ref:s,className:(0,X.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...l,children:(0,t.jsx)(K,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});J.displayName=L.displayName;var $=a(3804),ee=a(5863),es=a(5710);function ea(){let[e,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0),[n,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{o()},[]);let o=async()=>{try{l(!0);let e=await fetch("/api/mcp/usage");if(!e.ok)throw Error("Failed to load usage data");let a=await e.json();s(a)}catch(e){d(e instanceof Error?e.message:"An error occurred")}finally{l(!1)}};if(a)return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(c.Zb,{children:(0,t.jsx)(c.aY,{className:"flex items-center justify-center py-12",children:(0,t.jsx)(ee.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})});if(n)return(0,t.jsx)(c.Zb,{children:(0,t.jsx)(c.aY,{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(j.Z,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:n}),(0,t.jsx)(i.z,{onClick:o,variant:"outline",className:"mt-4",children:"Try Again"})]})})});if(!e)return null;let m=e.isUnlimited?0:e.callsUsed/e.callsLimit*100,x=e.isUnlimited?1/0:Math.max(0,e.callsLimit-e.callsUsed);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"h-5 w-5"}),"MCP Usage Overview"]}),(0,t.jsx)(c.SZ,{children:"Track your Model Context Protocol tool calls"})]}),(0,t.jsxs)(c.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Current Plan"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl font-bold capitalize",children:e.plan}),e.isUnlimited&&(0,t.jsx)(M.C,{variant:"secondary",children:"Unlimited"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Calls Used"}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("span",{className:"text-2xl font-bold",children:e.callsUsed.toLocaleString()}),!e.isUnlimited&&(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["/ ",e.callsLimit.toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Remaining"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl font-bold",children:e.isUnlimited?"∞":x.toLocaleString()}),0===x&&!e.isUnlimited&&(0,t.jsx)(M.C,{variant:"destructive",children:"Limit Reached"})]})]})]}),!e.isUnlimited&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Usage Progress"}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[Math.round(m),"%"]})]}),(0,t.jsx)(J,{value:m,className:m>=90?"bg-red-100":""}),m>=90&&(0,t.jsxs)("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3"}),"You're approaching your usage limit. Consider upgrading your plan."]})]}),e.resetDate&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm",children:"Next reset"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:new Date(e.resetDate).toLocaleDateString()})]})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(y,{className:"h-5 w-5"}),"Recent MCP Tool Calls"]}),(0,t.jsx)(c.SZ,{children:"Your last 30 days of MCP tool usage"})]}),(0,t.jsx)(c.aY,{children:0===e.usage.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(k.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No MCP tool calls yet"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Start using the MCP server to see your usage here"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)($.iA,{children:[(0,t.jsx)($.xD,{children:(0,t.jsxs)($.SC,{children:[(0,t.jsx)($.ss,{children:"Timestamp"}),(0,t.jsx)($.ss,{children:"Tool"}),(0,t.jsx)($.ss,{children:"Status"}),(0,t.jsx)($.ss,{children:"Response Time"})]})}),(0,t.jsx)($.RM,{children:e.usage.map(e=>(0,t.jsxs)($.SC,{children:[(0,t.jsx)($.pj,{className:"text-sm",children:(0,es.Q)(new Date(e.timestamp),{addSuffix:!0})}),(0,t.jsx)($.pj,{className:"font-mono text-sm",children:e.tool}),(0,t.jsx)($.pj,{children:(0,t.jsx)(M.C,{variant:"success"===e.status?"default":"destructive",className:"text-xs",children:e.status})}),(0,t.jsxs)($.pj,{className:"text-sm",children:[e.responseTime,"ms"]})]},e.id))})]})})})]}),("free"===e.plan||0===x)&&!e.isUnlimited&&(0,t.jsx)(c.Zb,{className:"border-primary/50 bg-primary/5",children:(0,t.jsxs)(c.aY,{className:"flex items-center justify-between py-6",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(Z.Z,{className:"h-5 w-5 text-primary"}),"Need more MCP calls?"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upgrade to a paid plan for more calls and premium features"})]}),(0,t.jsx)(i.z,{asChild:!0,children:(0,t.jsx)("a",{href:"/pricing",children:"View Plans"})})]})})]})}var et=a(8728),er=a(2369);function el(){let{user:e,isLoading:s}=(0,l.aF)(),[a,o]=(0,r.useState)("overview"),[m,u]=(0,r.useState)(null),[h,f]=(0,r.useState)(!0);(0,r.useEffect)(()=>{e&&!s&&j()},[e,s]);let j=async()=>{try{let[r,l]=await Promise.all([fetch("/api/keys"),fetch("/api/usage?days=30")]);if(r.ok&&l.ok){var e,s,a,t;let n=await r.json(),i=await l.json();u({activeKeys:(null===(e=n.keys)||void 0===e?void 0:e.filter(e=>e.isActive).length)||0,monthlyRequests:(null===(s=i.usage)||void 0===s?void 0:s.current)||0,avgResponseTime:Math.round((null===(a=i.stats)||void 0===a?void 0:a.avgResponseTime)||0),planName:(null===(t=i.usage)||void 0===t?void 0:t.planName)||"Free"})}}catch(e){console.error("Error loading dashboard data:",e)}finally{f(!1)}};return s?(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsx)(n.Header,{}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})]}):e?(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsx)(n.Header,{}),(0,t.jsx)("div",{className:"flex-1 bg-background",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold tracking-tight",children:["Welcome back, ",e.name||e.email]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage your API keys and monitor usage of the LegislativeMCP server platform."})]}),(0,t.jsxs)(d.mQ,{value:a,onValueChange:o,className:"space-y-6",children:[(0,t.jsxs)(d.dr,{className:"grid w-full grid-cols-5",children:[(0,t.jsxs)(d.SP,{value:"overview",className:"flex items-center gap-2",children:[(0,t.jsx)(P.Z,{className:"h-4 w-4"}),"Overview"]}),(0,t.jsxs)(d.SP,{value:"subscription",className:"flex items-center gap-2",children:[(0,t.jsx)(I.Z,{className:"h-4 w-4"}),"Subscription"]}),(0,t.jsxs)(d.SP,{value:"keys",className:"flex items-center gap-2",children:[(0,t.jsx)(x,{className:"h-4 w-4"}),"API Keys"]}),(0,t.jsxs)(d.SP,{value:"usage",className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4"}),"Usage"]}),(0,t.jsxs)(d.SP,{value:"settings",className:"flex items-center gap-2",children:[(0,t.jsx)(et.Z,{className:"h-4 w-4"}),"Settings"]})]}),(0,t.jsxs)(d.nU,{value:"overview",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ll,{className:"text-sm font-medium",children:"Active API Keys"}),(0,t.jsx)(x,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:h?(0,t.jsx)("div",{className:"animate-pulse h-8 w-8 bg-muted rounded"}):(null==m?void 0:m.activeKeys)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Keys in use"})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ll,{className:"text-sm font-medium",children:"This Month"}),(0,t.jsx)(k.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:h?(0,t.jsx)("div",{className:"animate-pulse h-8 w-16 bg-muted rounded"}):((null==m?void 0:m.monthlyRequests)||0).toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"API requests"})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ll,{className:"text-sm font-medium",children:"Response Time"}),(0,t.jsx)(P.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:h?(0,t.jsx)("div",{className:"animate-pulse h-8 w-12 bg-muted rounded"}):(null==m?void 0:m.avgResponseTime)?"".concat(m.avgResponseTime,"ms"):"-"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Average ms"})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(c.ll,{className:"text-sm font-medium",children:"Plan Status"}),(0,t.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:h?(0,t.jsx)("div",{className:"animate-pulse h-8 w-20 bg-muted rounded"}):(null==m?void 0:m.planName)||"Free"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Subscription"})]})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{children:"Quick Actions"}),(0,t.jsx)(c.SZ,{children:"Common tasks to get you started with the API."})]}),(0,t.jsxs)(c.aY,{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)(i.z,{onClick:()=>o("keys"),className:"flex items-center gap-2",children:[(0,t.jsx)(x,{className:"h-4 w-4"}),"Generate API Key"]}),(0,t.jsxs)(i.z,{variant:"outline",onClick:()=>o("usage"),children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),"View Usage"]}),(0,t.jsx)(i.z,{variant:"outline",asChild:!0,children:(0,t.jsx)("a",{href:"/docs",target:"_blank",rel:"noopener noreferrer",children:"\uD83D\uDCDA Documentation"})}),(0,t.jsx)(i.z,{variant:"outline",asChild:!0,children:(0,t.jsx)("a",{href:"/api-docs",target:"_blank",rel:"noopener noreferrer",children:"\uD83D\uDD27 API Reference"})})]})]})]}),(0,t.jsx)(d.nU,{value:"subscription",children:(0,t.jsx)(O,{onSubscriptionUpdate:j})}),(0,t.jsx)(d.nU,{value:"keys",className:"space-y-6",children:(0,t.jsx)(b,{})}),(0,t.jsxs)(d.nU,{value:"usage",className:"space-y-6",children:[(0,t.jsx)(ea,{}),(0,t.jsx)(T,{})]}),(0,t.jsx)(d.nU,{value:"settings",className:"space-y-6",children:(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{children:"Account Settings"}),(0,t.jsx)(c.SZ,{children:"Manage your account preferences and subscription."})]}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)("div",{className:"font-medium",children:"Profile"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Update your profile information"})]}),(0,t.jsx)(i.z,{variant:"outline",asChild:!0,children:(0,t.jsxs)("a",{href:"/profile",children:[(0,t.jsx)(er.Z,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)("div",{className:"font-medium",children:"Billing"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Manage your subscription and billing"})]}),(0,t.jsxs)(i.z,{variant:"outline",onClick:()=>o("subscription"),children:[(0,t.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Manage Billing"]})]})]})]})})]})]})})]}):(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsx)(n.Header,{}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsxs)(c.Zb,{className:"w-full max-w-md",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{children:"Authentication Required"}),(0,t.jsx)(c.SZ,{children:"Please sign in to access your dashboard."})]}),(0,t.jsx)(c.aY,{children:(0,t.jsx)(i.z,{asChild:!0,className:"w-full",children:(0,t.jsx)("a",{href:"/api/auth/login",children:"Sign In"})})})]})})]})}},9174:function(e,s,a){"use strict";a.d(s,{C:function(){return i}});var t=a(7437);a(2265);var r=a(535),l=a(3448);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:a}),s),...r})}},9820:function(e,s,a){"use strict";a.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var t=a(7437),r=a(2265),l=a(3448);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},3804:function(e,s,a){"use strict";a.d(s,{RM:function(){return c},SC:function(){return d},iA:function(){return n},pj:function(){return m},ss:function(){return o},xD:function(){return i}});var t=a(7437),r=a(2265),l=a(3448);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",a),...r})})});n.displayName="Table";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",a),...r})});i.displayName="TableHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...r})});c.displayName="TableBody",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});d.displayName="TableRow";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});o.displayName="TableHead";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});m.displayName="TableCell",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},7168:function(e,s,a){"use strict";a.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return i},nU:function(){return o}});var t=a(7437),r=a(2265),l=a(271),n=a(3448);let i=l.fC,c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.aV,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});c.displayName=l.aV.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});d.displayName=l.xz.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});o.displayName=l.VY.displayName},7505:function(e,s,a){"use strict";a.d(s,{pm:function(){return h}}),a(7437);var t,r,l=a(2265);(t=r||(r={})).ADD_TOAST="ADD_TOAST",t.UPDATE_TOAST="UPDATE_TOAST",t.DISMISS_TOAST="DISMISS_TOAST",t.REMOVE_TOAST="REMOVE_TOAST";let n=0,i=new Map,c=e=>{if(i.has(e))return;let s=setTimeout(()=>{i.delete(e),x({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,s)},d=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=s;return a?c(a):e.toasts.forEach(e=>{c(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},o=[],m={toasts:[]};function x(e){m=d(m,e),o.forEach(e=>{e(m)})}function u(e){let{...s}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>x({type:"DISMISS_TOAST",toastId:a});return x({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>x({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function h(){let[e,s]=l.useState(m);return l.useEffect(()=>(o.push(s),()=>{let e=o.indexOf(s);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>x({type:"DISMISS_TOAST",toastId:e})}}u.success=e=>u({...e,variant:"success"}),u.error=e=>u({...e,variant:"destructive"}),u.warning=e=>u({...e,variant:"warning"})}},function(e){e.O(0,[624,656,548,793,851,518,971,117,744],function(){return e(e.s=4014)}),_N_E=e.O()}]);